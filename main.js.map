{"version":3,"file":"main.js","mappings":"mBAWA,MAAMA,EAAkB,ICTxB,oBACS,KAAAC,QAAoB,CACzB,oBACA,OACA,OACA,UA6BJ,CA1BEC,SAEE,MAAMC,EAAgB,qDAEZC,KAAKC,UAAUD,KAAKH,sCAG9B,OAAOK,QAAQC,QAAQJ,EACzB,CAEAK,eAEE,OAAOF,QAAQC,SACjB,CAEAF,UAAUJ,GACR,OAAOA,EAAQQ,QAAO,CAACC,EAAKC,IAMnBD,EALM,6DAEEC,kBACTA,kBAGL,GACL,GDtBIC,EAAW,IEVjB,oBACS,KAAAC,iBAA2B,EAC3B,KAAAC,SAAuC,IAmEhD,CAhEEZ,SACE,MAAMC,EAAgB,oyBAiBsBC,KAAKS,oBAAoBT,KAAKS,qKAIlET,KAAKW,uBAAuB,EAAG,oDAKvC,OAAOT,QAAQC,QAAQJ,EACzB,CAEAK,eAIE,OAHAJ,KAAKU,SAAWE,SAASC,iBAAiB,8CAC1Cb,KAAKU,SAASI,SAAQC,GAAMA,EAAGC,iBAAiB,SAAUC,GAAMjB,KAAKkB,kBAAkBD,OAEhFf,QAAQC,SACjB,CAEAQ,uBAAuBQ,EAAeC,GAGpC,MAFY,IAAIC,MAAMD,EAAMD,EAAQ,GAAGG,QAE5BjB,QAAO,CAACkB,EAAKC,KACtB,MAAMC,EAAOD,EAAML,EAQnB,OAAOI,EANM,sEADOE,IAASzB,KAAKS,iBAAmB,UAAY,yBAIpDgB,gBACTA,KAAQA,gBAEK,GAEjB,GACJ,CAEAP,kBAAkBD,GAChB,MAAMS,EAAkBd,SAASe,cAAc,cAC/C3B,KAAKU,SAASI,SAAQC,GAAMA,EAAGa,UAAUC,OAAO,YAEhD,MAAMC,EAAoBb,EAAEc,OACtBN,EAAOK,EAAKE,QAAQP,KAC1BK,EAAKF,UAAUK,IAAI,UACnBjC,KAAKS,kBAAoBgB,EACzBC,EAAgBQ,UAAY,GAAGlC,KAAKS,oBAAoBT,KAAKS,kBAC/D,GFzDI0B,EAAe,IGXrB,MAEIrC,SAKI,OAAOI,QAAQC,QAJO,gFAK1B,CAEAC,eACI,OAAOF,QAAQC,SACnB,GHCEiC,EAAS,IAAIC,IAA0B,CACzC,CAAC,IAAK7B,GACN,CAAC,KAAM2B,KAGLG,EAAS,KAA2B,O,OAAD,E,OAAA,E,EAAA,YAErC,MAAMC,EAAO3B,SAASe,cAAc,QAC9Ba,EAAS5B,SAAS6B,cAAc,UAChCC,EAAU9B,SAAS6B,cAAc,QAEjCE,EAAU/B,SAAS6B,cAAc,OACvCE,EAAQf,UAAUK,IAAI,WACtBM,EAAKK,OAAOD,GACZA,EAAQC,OAAOJ,EAAQE,GAGvBF,EAAON,gBAAkBtC,EAAgBE,eACnCF,EAAgBQ,eAGtB,IAAIyC,EI1Ba,MAEb,IACIC,GADMC,SAASC,KAAKC,MAAM,GAAGC,eAAiB,KACtCC,MAAM,KACdN,EAAmB,CACnBO,SAAU,KACVC,GAAI,KACJC,KAAM,MAOV,OAJAT,EAAQO,SAAWN,EAAE,GACrBD,EAAQQ,GAAKP,EAAE,GACfD,EAAQS,KAAOR,EAAE,GAEVD,CAAO,EJYJU,GAGVC,GAAaX,EAAQO,SAAW,IAAMP,EAAQO,SAAW,MAAQP,EAAQQ,GAAK,OAAS,KAAOR,EAAQS,KAAO,IAAMT,EAAQS,KAAO,IAIlIG,EAAOrB,EAAOsB,IAAIF,GAAapB,EAAOuB,IAAIH,GAAarB,EAE3DO,EAAQR,gBAAkBuB,EAAK3D,eACzB2D,EAAKrD,cACf,E,YA3ByC,K,6QA2BxC,EAGDwD,OAAO5C,iBAAiB,aAAcsB,GAGtCsB,OAAO5C,iBAAiB,OAAQsB,GAGhCuB,QAAQC,K","sources":["webpack://gem-puzzle/./src/index.ts","webpack://gem-puzzle/./src/view/components/header/header.ts","webpack://gem-puzzle/./src/view/pages/main/main.ts","webpack://gem-puzzle/./src/view/pages/not-found/not-found.ts","webpack://gem-puzzle/./src/services/utils/Utils.ts"],"sourcesContent":["\"use strict\";\r\n\r\nimport './assets/style/style.scss';\r\n\r\nimport { PageRenderer } from './model/page-renderer.model';\r\nimport { Header } from './view/components/header/header';\r\nimport { Main } from './view/pages/main/main';\r\nimport { NotFound } from './view/pages/not-found/not-found';\r\n\r\nimport { Utils } from './services/utils/Utils';\r\n\r\nconst headerComponent = new Header();\r\nconst mainPage = new Main();\r\nconst notFoundPage = new NotFound();\r\n\r\nconst routes = new Map<string, PageRenderer>([\r\n    ['/', mainPage],\r\n    ['**', notFoundPage],\r\n]);\r\n\r\nconst router = async (): Promise<void> => {\r\n    // Lazy load view element:\r\n    const body = document.querySelector('body');\r\n    const header = document.createElement('header');\r\n    const content = document.createElement('main');\r\n    //создаем страничку\r\n    const wrapper = document.createElement('div');\r\n    wrapper.classList.add('wrapper');\r\n    body.append(wrapper);\r\n    wrapper.append(header, content);\r\n\r\n    // Render the Header and footer of the page\r\n    header.innerHTML = await headerComponent.render();\r\n    await headerComponent.after_render();;\r\n\r\n    // Get the parsed URl from the addressbar\r\n    let request = Utils.parseRequestURL();\r\n\r\n    // Parse the URL and if it has an id part, change it with the string \":id\"\r\n    let parsedURL = (request.resource ? '/' + request.resource : '/') + (request.id ? '/:id' : '') + (request.verb ? '/' + request.verb : '');\r\n\r\n    // Get the page from our hash of supported routes.\r\n    // If the parsed URL is not in our list of supported routes, select the 404 page instead\r\n    let page = routes.has(parsedURL) ? routes.get(parsedURL) : notFoundPage;\r\n\r\n    content.innerHTML = await page.render();\r\n    await page.after_render();\r\n}\r\n\r\n// Listen on hash change:\r\nwindow.addEventListener('hashchange', router);\r\n\r\n// Listen on page load:\r\nwindow.addEventListener('load', router);\r\n\r\n//Самооценка\r\nconsole.log();","import { PageRenderer } from '../../../model/page-renderer.model';\r\n\r\nclass Header implements PageRenderer {\r\n  public navList: string[] = [\r\n    'shuffle and start',\r\n    'stop',\r\n    'save',\r\n    'results',\r\n  ];\r\n\r\n  render(): Promise<string> {\r\n\r\n    const view =  /*html*/`\r\n          <ul class=\"header-list\">\r\n            ${this.createNav(this.navList)}\r\n          </ul>\r\n        `\r\n    return Promise.resolve(view);\r\n  }\r\n\r\n  after_render(): Promise<void> {\r\n\r\n    return Promise.resolve();\r\n  }\r\n\r\n  createNav(navList: string[]): string {\r\n    return navList.reduce((nav, item) => {\r\n      const vuew = `\r\n      <li class=\"header-list__item\"\r\n        data-type=\"${item}\">\r\n          ${item}\r\n      </li>`;\r\n      return nav + vuew;\r\n    }, ``);\r\n  }\r\n\r\n}\r\n\r\nexport { Header };","import { PageRenderer } from '../../../model/page-renderer.model';\r\n\r\nclass Main implements PageRenderer {\r\n  public currentBoardSize: number = 4;\r\n  public sizeItem: null | NodeListOf<Element> = null;\r\n\r\n\r\n  render(): Promise<string> {\r\n    const view =  /*html*/`\r\n    <div class=\"main-container\">\r\n      <div class=\"main-container__game-settings\">\r\n      <div class=\"main-container__game-settings__setting\">\r\n        <svg viewBox=\"24 0 16 16\">\r\n          <path d=\"M40,9.5v-3h-1.8l-0.7-1.8l1.3-1.3l-2.1-2.1l-1.3,1.3l-1.9-0.8V0h-3v1.8l-1.8,0.8l-1.3-1.3l-2.1,2.1l1.3,1.3\r\n          l-0.8,1.8H24v3h1.8l0.7,1.8l-1.3,1.3l2.1,2.1l1.3-1.3l1.8,0.7V16h3v-1.8l1.8-0.7l1.3,1.3l2.1-2.1l-1.3-1.3L38,9.6h2V9.5z M32,12\r\n          c-2.2,0-4-1.8-4-4s1.8-4,4-4s4,1.8,4,4S34.2,12,32,12z\"/>\r\n        </svg>\r\n      </div>\r\n        <p>Moves: <span>10</span></p>\r\n        <p>Times: <span>10:20</span></p>\r\n      </div>\r\n      <div class=\"main-container__canvas-wrap\">\r\n        \r\n      </div>\r\n      <div class=\"main-container__board-size\">\r\n        <p>Frame size <span class=\"size-view\">${this.currentBoardSize}x${this.currentBoardSize}</span></p>\r\n      </div>\r\n      <div class=\"main-container__size-settings\">\r\n        <ul class=\"main-container__size-settings__list\">\r\n          ${this.createSizeSettingsList(3, 8)}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    `;\r\n    return Promise.resolve(view);\r\n  }\r\n\r\n  after_render(): Promise<void> {\r\n    this.sizeItem = document.querySelectorAll('.main-container__size-settings__list__item');\r\n    this.sizeItem.forEach(el => el.addEventListener('click', (e) => this.changeSizeOnClick(e)));\r\n\r\n    return Promise.resolve();\r\n  }\r\n\r\n  createSizeSettingsList(start: number, end: number): string {\r\n    const arr = [...Array(end - start + 1).keys()];\r\n\r\n    return arr.reduce((str, num) => {\r\n      const size = num + start;\r\n      const activeClass = size === this.currentBoardSize ? ' active' : '';\r\n      const vuew = `\r\n      <li\r\n      class=\"main-container__size-settings__list__item${activeClass}\"\r\n      data-size=\"${size}\">\r\n        ${size}x${size}\r\n      </li>`\r\n      return str + vuew;\r\n    },\r\n      ``);\r\n  }\r\n\r\n  changeSizeOnClick(e: Event): void {\r\n    const sizeDesctiption = document.querySelector('.size-view');\r\n    this.sizeItem.forEach(el => el.classList.remove('active'));\r\n\r\n    const elem = <HTMLElement>e.target;\r\n    const size = elem.dataset.size;\r\n    elem.classList.add('active');\r\n    this.currentBoardSize = +size;\r\n    sizeDesctiption.innerHTML = `${this.currentBoardSize}x${this.currentBoardSize}`\r\n  }\r\n}\r\n\r\nexport { Main };","import { PageRenderer } from '../../../model/page-renderer.model';\r\n\r\nclass NotFound implements PageRenderer {\r\n    \r\n    render(): Promise<string> {\r\n        const view =  /*html*/`\r\n        <h3 class=\"page-name\"></h3>\r\n        <p>In process...</p>\r\n        `\r\n        return Promise.resolve(view);\r\n    }\r\n\r\n    after_render(): Promise<void> {\r\n        return Promise.resolve();\r\n    }\r\n}\r\n\r\nexport { NotFound };","type Request = {\r\n    resource: string | null;\r\n    id: string | null;\r\n    verb: string | null;\r\n}\r\n\r\nconst Utils = {\r\n    // --------------------------------\r\n    //  Parse a url and break it into resource, id and verb\r\n    // --------------------------------\r\n    parseRequestURL: (): Request => {\r\n\r\n        let url = location.hash.slice(1).toLowerCase() || '/';\r\n        let r = url.split(\"/\")\r\n        let request: Request = {\r\n            resource: null,\r\n            id: null,\r\n            verb: null\r\n        }\r\n\r\n        request.resource = r[1];\r\n        request.id = r[2];\r\n        request.verb = r[3];;\r\n   \r\n        return request;\r\n    }\r\n\r\n    // --------------------------------\r\n    //  Simple sleep implementation\r\n    // --------------------------------\r\n    , sleep: (ms: number): number | PromiseLike<number> => {\r\n        return new Promise(resolve => setTimeout(resolve, ms));\r\n    }\r\n}\r\n\r\nexport { Utils };"],"names":["headerComponent","navList","render","view","this","createNav","Promise","resolve","after_render","reduce","nav","item","mainPage","currentBoardSize","sizeItem","createSizeSettingsList","document","querySelectorAll","forEach","el","addEventListener","e","changeSizeOnClick","start","end","Array","keys","str","num","size","sizeDesctiption","querySelector","classList","remove","elem","target","dataset","add","innerHTML","notFoundPage","routes","Map","router","body","header","createElement","content","wrapper","append","request","r","location","hash","slice","toLowerCase","split","resource","id","verb","Utils","parsedURL","page","has","get","window","console","log"],"sourceRoot":""}